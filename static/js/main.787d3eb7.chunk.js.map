{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/AppLoader.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","type","SearchForm__button","SearchForm__label","SearchForm__input","autoComplete","autoFocus","placeholder","name","value","onChange","currentTarget","toLowerCase","modalRoot","document","getElementById","Modal","modalSource","modalDescription","onClose","useEffect","handleEscClose","code","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","target","src","alt","ImageGalleryItem","id","source","description","dataOriginal","showModal","setShowModal","toggleModal","ImageGalleryItem__image","ImageGallery","images","map","webformatURL","tags","largeImageURL","Button","children","AppLoader","loader","color","height","width","timeout","App","hits","setHits","loading","setLoading","page","setPage","total","setTotal","setError","query","setQuery","fetchImages","a","url","console","log","fetch","then","response","ok","json","data","catch","prevHits","message","finally","prevPage","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.787d3eb7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3zN5-\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__1SNP8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__PYUvz\",\"Modal\":\"Modal_Modal__1sjmA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3o31R\"};","import React, { useState } from 'react';\n\nimport s from 'components/Searchbar/Searchbar.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nfunction Searchbar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (searchQuery.trim() === '') {\n      toast.error('Please type the query', {\n        position: 'top-right',\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n      return;\n    }\n    onSubmit(searchQuery);\n    setSearchQuery('');\n  };\n  const handleQueryChange = e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  return (\n    <>\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchForm__button}>\n            <span className={s.SearchForm__label}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchForm__input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchQuery\"\n            value={searchQuery}\n            onChange={handleQueryChange}\n          />\n        </form>\n      </header>\n    </>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport { Searchbar };\n","import React, { useEffect } from 'react';\n\nimport s from 'components/Modal/Modal.module.css';\n\nimport PropTypes from 'prop-types';\n\nimport { createPortal } from 'react-dom';\n\nconst modalRoot = document.getElementById('modal-root');\n\nfunction Modal({ modalSource, modalDescription, onClose }) {\n  useEffect(() => {\n    const handleEscClose = e => {\n      if (e.code === 'Escape') {\n        onClose();\n      }\n    };\n    window.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      window.removeEventListener('keydown', handleEscClose);\n    };\n  }, [onClose]);\n\n  const handleOverlayClick = e => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleOverlayClick}>\n      <div className={s.Modal}>\n        <img src={modalSource} alt={modalDescription} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  modalSource: PropTypes.string,\n  modalDescription: PropTypes.string,\n  onClose: PropTypes.func,\n};\n\nexport { Modal };\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\n\nimport { Modal } from 'components/Modal/Modal';\n\nfunction ImageGalleryItem({ id, source, description, dataOriginal }) {\n  const [showModal, setShowModal] = useState(false);\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n  return (\n    <>\n      <li key={id} className={s.ImageGalleryItem} onClick={toggleModal}>\n        <img\n          src={source}\n          alt={description}\n          className={s.ImageGalleryItem__image}\n        />\n      </li>\n      {showModal && (\n        <Modal\n          modalSource={dataOriginal}\n          modalDescription={description}\n          onClose={toggleModal}\n        />\n      )}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  dataOriginal: PropTypes.string,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  source: PropTypes.string,\n  description: PropTypes.string,\n};\n\nexport { ImageGalleryItem };\n","import PropTypes from 'prop-types';\n\nimport s from 'components/ImageGallery/ImageGallery.module.css';\n\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\n\nfunction ImageGallery({ images }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          source={webformatURL}\n          description={tags}\n          dataOriginal={largeImageURL}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n};\n\nexport { ImageGallery };\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport s from 'components/Button/Button.module.css';\n\nfunction Button({ children, onClick, id }) {\n  return (\n    <button id={id} type=\"button\" className={s.Button} onClick={onClick}>\n      {children}\n    </button>\n  );\n}\n\nButton.propTypes = {\n  children: PropTypes.any,\n  onClick: PropTypes.func,\n  id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nexport { Button };\n","import React from 'react';\nimport s from 'components/ImageGallery/ImageGallery.module.css';\n\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nexport default function AppLoader() {\n  return (\n    <Loader\n      className={s.loader}\n      type=\"TailSpin\"\n      color=\"#3f51b5\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n}\n","import './App.css';\nimport React, { useState, useEffect } from 'react';\n\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { ToastContainer } from 'react-toastify';\nimport { Button } from 'components/Button/Button';\nimport AppLoader from 'components/Loader/AppLoader';\n\nconst API_KEY = '23531219-4793e7ad626a6d166b9f03b8c';\n\nfunction App() {\n  const [hits, setHits] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n  const [total, setTotal] = useState(1);\n  const [error, setError] = useState(null);\n  const [query, setQuery] = useState('');\n\n  useEffect(() => {\n    const fetchImages = async () => {\n      setLoading(true);\n\n      let url = `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n      console.log(url);\n\n      return await fetch(url)\n        .then(response => {\n          if (response.ok) {\n            // console.log('response', response);\n            return response.json();\n          }\n        })\n        .then(data => data)\n        .catch(error => console.log(error));\n    };\n\n    if (!query) {\n      return;\n    }\n\n    setQuery(query);\n\n    fetchImages({ query, page })\n      .then(({ total, hits }) => {\n        setHits(prevHits => [...prevHits, ...hits]);\n        setTotal(total);\n      })\n      .catch(error => setError(error.message))\n      .finally(() => setLoading(false));\n  }, [page, query]);\n\n  const onQueryChange = query => {\n    setQuery(query);\n    setPage(1);\n    setHits([]);\n    setError(null);\n  };\n\n  const loadMore = () => {\n    setPage(prevPage => prevPage + 1);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={onQueryChange} />\n\n      {error && <p>Oops, error... Try again</p>}\n\n      {loading && <AppLoader />}\n\n      {total === 0 && <div>Nothing was found on {query}</div>}\n\n      <ImageGallery images={hits} />\n\n      {total > 12 && (\n        <Button id=\"loadmore\" onClick={loadMore}>\n          Load more\n        </Button>\n      )}\n\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3ZzQg\",\"SearchForm\":\"Searchbar_SearchForm__2GGRf\",\"SearchForm__button\":\"Searchbar_SearchForm__button__11Gnp\",\"SearchForm__label\":\"Searchbar_SearchForm__label__3qKhW\",\"SearchForm__input\":\"Searchbar_SearchForm__input__31jji\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__Zi0ob\",\"loader\":\"ImageGallery_loader__AKRS_\"};"],"sourceRoot":""}